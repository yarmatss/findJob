<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add offer</title>
</head>
<body>

<!-- Include the navigation fragment -->
<th:block th:replace="~{fragments/nav :: nav}"></th:block>

<form th:method="POST" th:action="@{/employer/offers/add}" th:object="${offer}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

    <label for="title">Title: </label>
    <input type="text" th:field="*{title}" id="title"/>
    <div style="color:red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Title Error</div>
    <br/>

    <label for="description">Description: </label>
    <input type="text" th:field="*{description}" id="description"/>
    <div style="color:red" th:if="${#fields.hasErrors('description')}" th:errors="*{description}">Description Error</div>
    <br/>

    <label for="offerCategory">Category:</label>
    <select id="offerCategory" name="offerCategory">
        <option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.category}">category</option>
    </select>
    <div style="color:red" th:if="${#fields.hasErrors('offerCategory')}" th:errors="*{offerCategory}">Category Error</div>
    <br/>

    <label for="offerType">Type:</label>
    <select id="offerType" name="offerType">
        <option value="Full-time">Full-time</option>
        <option value="Part-time">Part-time</option>
        <option value="Practice / Internship">Practice / Internship</option>
        <option value="Freelance">Freelance</option>
    </select>
    <div style="color:red" th:if="${#fields.hasErrors('offerType')}" th:errors="*{offerType}">Type Error</div>
    <br/>

    <label for="companyName">Company name: </label>
    <input type="text" th:field="*{companyName}" id="companyName"/>
    <div style="color:red" th:if="${#fields.hasErrors('companyName')}" th:errors="*{companyName}">Company name Error</div>
    <br/>

    <form th:action="@{/employer/{id}/company_logo(id=${person.getId()})}" th:method="PATCH" enctype="multipart/form-data">
        <input type="file" name="profilePicture" accept="image/*" />
        <button type="submit">Upload avatar</button>
    </form>

    <label for="requiredSkills">Required skills: </label>
    <input type="text" th:field="*{requiredSkills}" id="requiredSkills"/>
    <div style="color:red" th:if="${#fields.hasErrors('requiredSkills')}" th:errors="*{requiredSkills}">Required skills Error</div>
    <br/>

    <label for="minSalary">Minimum salary: </label>
    <input type="text" th:field="*{minSalary}" id="minSalary"/>
    <div style="color:red" th:if="${#fields.hasErrors('minSalary')}" th:errors="*{minSalary}">Minimum salary Error</div>
    <br/>

    <label for="maxSalary">Maximum salary: </label>
    <input type="text" th:field="*{maxSalary}" id="maxSalary"/>
    <div style="color:red" th:if="${#fields.hasErrors('maxSalary')}" th:errors="*{maxSalary}">Maximum salary Error</div>
    <br/>

    <label for="minExperienceYears">Minimum experience years: </label>
    <input type="text" th:field="*{minExperienceYears}" id="minExperienceYears"/>
    <div style="color:red" th:if="${#fields.hasErrors('minExperienceYears')}" th:errors="*{minExperienceYears}">Minimum experience years Error</div>
    <br/>

    <label for="maxExperienceYears">Maximum experience years: </label>
    <input type="text" th:field="*{maxExperienceYears}" id="maxExperienceYears"/>
    <div style="color:red" th:if="${#fields.hasErrors('maxExperienceYears')}" th:errors="*{maxExperienceYears}">Maximum experience years Error</div>
    <br/>

    <label for="location">Location: </label>
    <input type="text" th:field="*{location}" id="location"/>
    <div style="color:red" th:if="${#fields.hasErrors('location')}" th:errors="*{location}">Location Error</div>
    <br/>

    <label for="companyLogo">Company logo: </label>
    <input type="text" th:field="*{companyLogo}" id="companyLogo"/>
    <div style="color:red" th:if="${#fields.hasErrors('companyLogo')}" th:errors="*{companyLogo}">Company Error</div>
    <br/>

    <input type="submit" value="Add offer"/>
</form>

</body>
</html>